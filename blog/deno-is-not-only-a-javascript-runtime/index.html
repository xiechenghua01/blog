<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-alpha.0">
<title data-rh="true">Deno 不只是个 Javascript 运行时 | 愧怍的小站</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kuizuo.cn/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://kuizuo.cn/img/logo.png"><meta data-rh="true" property="og:url" content="https://kuizuo.cn/blog/deno-is-not-only-a-javascript-runtime"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Deno 不只是个 Javascript 运行时 | 愧怍的小站"><meta data-rh="true" name="description" content="Deno 是一个安全的 JavaScript 和 TypeScript 运行时，作者是 Ryan Dahl（也是 Node.js 的原作者）。Deno 的诞生之初是为了解决 2009 年首次设计 Node.js 时的一些疏忽。我认为这种改造动机很有道理，因为我相信每个程序员都希望有机会能重写他们已有 10 年历史的代码。"><meta data-rh="true" property="og:description" content="Deno 是一个安全的 JavaScript 和 TypeScript 运行时，作者是 Ryan Dahl（也是 Node.js 的原作者）。Deno 的诞生之初是为了解决 2009 年首次设计 Node.js 时的一些疏忽。我认为这种改造动机很有道理，因为我相信每个程序员都希望有机会能重写他们已有 10 年历史的代码。"><meta data-rh="true" name="keywords" content="deno,node,javascript,typescript"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-01-20T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/kuizuo"><meta data-rh="true" property="article:tag" content="deno,node,javascript,typescript"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kuizuo.cn/blog/deno-is-not-only-a-javascript-runtime"><link data-rh="true" rel="alternate" href="https://kuizuo.cn/en/blog/deno-is-not-only-a-javascript-runtime" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://kuizuo.cn/blog/deno-is-not-only-a-javascript-runtime" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kuizuo.cn/blog/deno-is-not-only-a-javascript-runtime" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GV6YN1ODMO-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S4SD5NXWXF"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S4SD5NXWXF",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="愧怍的小站" href="/opensearch.xml">


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c9a3849aa75f9c4a4e65f846cd1a5155",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="愧怍 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="愧怍 Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="愧怍 JSON Feed">

<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)">
<meta name="description" content="愧怍的个人博客"><link rel="stylesheet" href="/assets/css/styles.e3b7cfd1.css">
<script src="/assets/js/runtime~main.7921973c.js" defer="defer"></script>
<script src="/assets/js/main.22d9bd59.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="愧怍" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="愧怍" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a><a class="navbar__item navbar__link" href="/project">项目</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">更多</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/archive">归档</a></li><li><a class="dropdown__link" href="/docs/skill/">笔记</a></li><li><a class="dropdown__link" href="/resource">资源</a></li><li><a class="dropdown__link" href="/friends">友链</a></li><li><a class="dropdown__link" href="/docs/tools/">工具推荐</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文（中国）</a><ul class="dropdown__menu"><li><a href="/en/blog/deno-is-not-only-a-javascript-runtime" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/blog/deno-is-not-only-a-javascript-runtime" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中文（中国）</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--md"><div class="row"><aside class="col col--2"><nav class="sidebar_me8e thin-scrollbar" aria-label="最近博文导航"><div class="backButton_Rxyd"><span></span></div><a class="sidebarItemTitle_MDMA margin-bottom--sm" href="/blog">Blogs</a><ul class="sidebarItemList_t5AC clean-list"><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/nest-grpc-ocr">Nest grpc 实践之调用 python ddddocr 库</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/nest-swagger-response-data">nest.js 添加 swagger 响应数据文档</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/narrate-a-college-student">叙一名转专业+休学的大学生经历</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/macbook-experience">MacBook 体验有感</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/why-i-dont-write-notes">距离我上篇笔记还是在?</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/typescript-full-stack-technology-trpc">Typescript 全栈最值得学习的技术栈 TRPC</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/use-supabase-as-backend-service">将 Supabase 作为下一个后端服务</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/use-fresh-build-web-applicatioin">🍋 使用 Fresh 框架构建Web 应用</a></li><li class="sidebarItem_PSMt"><a aria-current="page" class="sidebarItemLink_nW7C sidebarItemLinkActive_hG8J" href="/blog/deno-is-not-only-a-javascript-runtime">Deno 不只是个 Javascript 运行时</a></li><li class="sidebarItem_PSMt"><a class="sidebarItemLink_nW7C" href="/blog/rust-wasm-md5">Rust实现MD5加密并打包成WebAssembly调用</a></li></ul></nav></aside><main class="col col--8" itemscope="" itemtype="http://schema.org/Blog"><article class="blogPost-container" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 itemprop="headline">Deno 不只是个 Javascript 运行时</h1><div class="container_iJTo margin-vert--md"><time datetime="2023-01-20T00:00:00.000Z" itemprop="datePublished">2023年1月20日</time> · <!-- -->阅读需 15 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_q4o9"><div class="avatar margin-bottom--sm"><a href="https://github.com/kuizuo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/logo.webp" alt="愧怍"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kuizuo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">愧怍</span></a></div><small class="avatar__subtitle" itemprop="description">全栈 typescripter / 学生</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p><img loading="lazy" src="https://img.kuizuo.cn/202307110217498.png" alt="" class="img_ev3q"></p>
<p>Deno 是一个安全的 JavaScript 和 TypeScript 运行时，作者是 Ryan Dahl（也是 Node.js 的原作者）。Deno 的诞生之初是为了<a href="https://link.juejin.cn?target=https://www.youtube.com/watch?v=M3BM9TB-8yA" target="_blank" rel="noopener noreferrer">解决 2009 年首次设计 Node.js 时的一些疏忽</a>。我认为这种改造动机很有道理，因为<strong>我相信每个程序员都希望有机会能重写他们已有 10 年历史的代码。</strong></p>
<p>deno 刚出的时候就听闻了，传言 deno 是下一代 node.js。不过如今看来，还革不了 node.js 的命。如果要说两者字面上的区别，Deno 的来源是 Node 的字母重新组合（Node = no + de），表示&quot;拆除 Node.js&quot;（de = destroy, no = Node.js）。</p>
<p>趁着假期学了一段时间的 deno（指<a href="https://deno.land/manual@v1.29.3/introduction" target="_blank" rel="noopener noreferrer" title="文档">文档</a>刷了一遍），想分享本人作为 node 开发者在学习 deno 时认为的一些亮点，以及个人对 deno 与 node 见解。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="开发环境">开发环境<a href="#开发环境" class="hash-link" aria-label="开发环境的直接链接" title="开发环境的直接链接">​</a></h3>
<p><a href="https://deno.land/manual@v1.29.2/getting_started/installation" target="_blank" rel="noopener noreferrer" title="Installation | Manual | Deno">Installation | Manual | Deno</a></p>
<p>默认情况下 deno 会根据不同的系统，选择相应的安装目录，以及依赖目录，你可以<a href="https://deno.land/manual@v1.29.3/getting_started/setup_your_environment#environment-variables" target="_blank" rel="noopener noreferrer" title="配置环境变量">配置环境变量</a>来改变 deno 的默认行为。</p>
<p>这里我选用 vscode 进行开发，安装<a href="https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno" target="_blank" rel="noopener noreferrer" title="deno官方插件">deno 官方插件</a>。此时创建一个项目工程文件夹，打开 vscode，并创建 <code>.vscode/settings.json</code> 内容如下</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">.vscode/settings.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property">&quot;deno.enable&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property">&quot;deno.lint&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property">&quot;editor.formatOnSave&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property">&quot;[typescript]&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;denoland.vscode-deno&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 vscode 中默认会将 ts 代码认为是 node 运行时环境，因此需要在项目工程下手动配置并启用 deno，让 vscode 以 deno 运行时环境来语法解析 ts 代码。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="deno-的一些亮点">deno 的一些亮点💡<a href="#deno-的一些亮点" class="hash-link" aria-label="deno 的一些亮点💡的直接链接" title="deno 的一些亮点💡的直接链接">​</a></h2>
<p>因为 deno 与 node 一样，都是 javascript 运行时（deno 合理来说是 typescript 运行时）。所以在 javascript 的部分就没什么好说的了，主要对比 deno 相比与 node 的优势，或说我个人觉得一些使用亮点。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="官方所介绍的亮点">官方所介绍的亮点<a href="#官方所介绍的亮点" class="hash-link" aria-label="官方所介绍的亮点的直接链接" title="官方所介绍的亮点的直接链接">​</a></h3>
<p>以下是官方所介绍的<a href="https://deno.land/manual@v1.29.3/introduction#feature-highlights" target="_blank" rel="noopener noreferrer" title="亮点">亮点</a>，我对其做了翻译</p>
<ul>
<li>
<p>提供<a href="https://deno.land/manual@v1.29.3/runtime/web_platform_apis" target="_blank" rel="noopener noreferrer" title="web平台功能">web 平台功能</a>，采用网络平台标准。例如，使用 ES 模块、Web worker 和支持 <code>fetch()</code>。</p>
</li>
<li>
<p>默认安全。除非显式启用，否则无法访问文件、网络或环境。</p>
</li>
<li>
<p>支持开箱即用的 <a href="https://deno.land/manual@v1.29.3/advanced/typescript" target="_blank" rel="noopener noreferrer" title="TypeScript">TypeScript</a>。</p>
</li>
<li>
<p>提供单个可执行文件 （<code>deno</code>）。</p>
</li>
<li>
<p>为编辑器提供内置的开发工具，如代码格式化程序 （<a href="https://deno.land/manual@v1.29.3/tools/formatter" target="_blank" rel="noopener noreferrer" title="deno fmt">deno fmt</a>）、linter （<a href="https://deno.land/manual@v1.29.3/tools/linter" target="_blank" rel="noopener noreferrer" title="deno lint">deno lint</a>）、测试运行程序（<a href="https://deno.land/manual@v1.29.3/basics/testing" target="_blank" rel="noopener noreferrer" title="deno test">deno test</a>）和<a href="https://deno.land/manual@v1.29.3/getting_started/setup_your_environment.md#using-an-editoride" target="_blank" rel="noopener noreferrer" title="语言服务器">语言服务器</a>。</p>
</li>
<li>
<p>拥有<a href="https://deno.land/std@0.172.0" target="_blank" rel="noopener noreferrer" title="一组经过审查（审核）的标准模块">一组经过审查（审核）的标准模块</a>，保证与 Deno 一起使用。</p>
</li>
<li>
<p>可以将脚本<a href="https://deno.land/manual@v1.29.3/tools/bundler" target="_blank" rel="noopener noreferrer" title="捆绑">捆绑</a>到单个 JavaScript 文件或<a href="https://deno.land/manual@v1.29.3/tools/compiler" target="_blank" rel="noopener noreferrer" title="可执行文件">可执行文件</a>中。</p>
</li>
<li>
<p>支持使用现有的 npm 模块</p>
</li>
</ul>
<p>以下会针对部分亮点，进行个人的见解。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="自带实用工具">自带实用工具<a href="#自带实用工具" class="hash-link" aria-label="自带实用工具的直接链接" title="自带实用工具的直接链接">​</a></h3>
<p>deno 则是自带代码格式化（<code>deno fmt</code>）、代码风格（<code>deno lint</code>）、代码测试（<code>deno test</code>）、依赖检查器（<code>deno info</code>）等等的功能。而这些在 node 中，你需要通过第三方的库，如 eslint，jest 才能实现。</p>
<p>你可以在项目工程中添加配置文件 <a href="https://deno.land/manual@v1.29.2/getting_started/configuration_file" target="_blank" rel="noopener noreferrer" title="deno.json">deno.json</a>来定制化代码风格（rust 中也有类似的功能），但在 node 中必须要借助第三方的库，或是 IDE 才能实现。</p>
<p>不过也能理解，在当时的编程环境背景下，javascript 还主要作为前端的脚本语言使用，又怎能让 node 来做相关规范呢？（这句话可能有点不妥）</p>
<p><strong>这点我认为对开发者是否选用你这门语言的一个加分项</strong>，并且这些功能也应该作为编程语言所自带的，有官方的背书（保证），对代码风格才更有所保障。</p>
<p>这里有份 <a href="https://deno.land/manual@v1.29.4/references/cheatsheet#nodejs---deno-cheatsheet" target="_blank" rel="noopener noreferrer" title="官方小抄">官方小抄</a> 可以知道通过<code>deno xxx</code>等命令能够做到 node 原本需要通过第三方库才能实现的功能。</p>





















































































<table><thead><tr><th>Node.js</th><th>Deno</th></tr></thead><tbody><tr><td><code>node file.js</code></td><td><code>deno run file.js</code></td></tr><tr><td><code>ts-node file.ts</code></td><td><code>deno run file.ts</code></td></tr><tr><td><code>npm i -g</code></td><td><code>deno install</code></td></tr><tr><td><code>npm i</code> / <code>npm install</code></td><td><em>n/a</em></td></tr><tr><td><code>npm run</code></td><td><code>deno task</code></td></tr><tr><td><code>eslint</code></td><td><code>deno lint</code></td></tr><tr><td><code>prettier</code></td><td><code>deno fmt</code></td></tr><tr><td><code>rollup</code> / <code>webpack</code> / etc</td><td><code>deno bundle</code></td></tr><tr><td><code>package.json</code></td><td><code>deno.json</code> / <code>deno.jsonc</code> / <code>import_map.json</code></td></tr><tr><td><code>tsc</code></td><td><code>deno check</code></td></tr><tr><td><code>typedoc</code></td><td><code>deno doc</code></td></tr><tr><td><code>jest</code> / <code>ava</code> / <code>mocha</code> / <code>tap</code> / etc</td><td><code>deno test</code></td></tr><tr><td><code>nodemon</code></td><td><code>deno run/lint/test --watch</code></td></tr><tr><td><code>nexe</code> / <code>pkg</code></td><td><code>deno compile</code></td></tr><tr><td><code>npm explain</code></td><td><code>deno info</code></td></tr><tr><td><code>nvm</code> / <code>n</code> / <code>fnm</code></td><td><code>deno upgrade</code></td></tr><tr><td><code>tsserver</code></td><td><code>deno lsp</code></td></tr><tr><td><code>nyc</code> / <code>c8</code> / <code>istanbul</code></td><td><code>deno coverage</code></td></tr><tr><td><code>benchmarks</code></td><td><code>deno bench</code></td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="远程导入"><a href="https://deno.land/manual@v1.29.3/basics/modules#remote-import" target="_blank" rel="noopener noreferrer" title="远程导入">远程导入</a><a href="#远程导入" class="hash-link" aria-label="远程导入的直接链接" title="远程导入的直接链接">​</a></h3>
<p>与 node 不同，使用 node 通常需要从 npm 官方包来下载并导，有 npm 这样的包管理器来统一管理这些包（package），我们通常称这种为中心化，而 deno 与 go 的做法很像，你可以将你的封装好的代码定义成一个包，并将其放在任何网络可访问的地方，比如 github，或是私有地址，然后通过网络读取文件的方式来导入，这种称为去中心化。</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>node 也不一定要用 npm 来下载模块，也可以本地模块或者私有模块。</p></div></div>
<p>关于中心化与去中心化管理，各有优缺，这里不做细致讨论。</p>
<p>以下是 deno 官方远程导入的代码示例：</p>
<p><strong>Command: deno run ./remote.ts</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">remote.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> multiply</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://x.nest.land/ramda@0.27.0/source/index.js&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">totalCost</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">outbound</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> inbound</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tax</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">number</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">multiply</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">outbound</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> inbound</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tax</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin" style="color:rgb(0, 112, 193)">console</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">totalCost</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">19</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">31</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin" style="color:rgb(0, 112, 193)">console</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">totalCost</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">45</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">27</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1.15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * Output</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * 60</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * 82.8</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>而这里的 <code>https://x.nest.land/ramda@0.27.0/source/index.js</code> 可以替换成任何 ES module 特性（import/export）的模块。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http-的方式运行代码">http 的方式运行代码<a href="#http-的方式运行代码" class="hash-link" aria-label="http 的方式运行代码的直接链接" title="http 的方式运行代码的直接链接">​</a></h3>
<p>既然都能通过 http（cdn）远程导入模块，那远程运行文件自然也不成大问题。有时候像快捷体验一下别人的代码，或是想要在浏览器中运行一下代码，这时候就可以通过 http 的方式来运行代码。</p>
<p>这里我准备了一段代码，并部署到我的站点上，你可以通过如下命令得到该代码的执行结果（如果你有安装 deno 的话），放心这段代码并无危害，就是一段简单的 console.log 输出。</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">deno run https://deno.kuizuo.cn/main.ts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在第一次使用时下载并缓存代码，你可以通过</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">deno info http://deno.kuizuo.cn/main.ts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>来查看文件信息，如下</p>
<p><img loading="lazy" src="https://img.kuizuo.cn/image_deb0_lGYRA.png" alt="" class="img_ev3q"></p>
<p>deno info 还可以查看 deno 的相关配置，默认缓存都设置在 C 盘，你也可以设置<strong>DENO_DIR</strong> 环境变量来更改 deno 目录，可以到 <a href="https://deno.land/manual@v1.29.3/getting_started/setup_your_environment#environment-variables" target="_blank" rel="noopener noreferrer" title="Set Up Your Environment">Set Up Your Environment</a> 查看 deno 相关环境变量。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="依赖管理">依赖管理<a href="#依赖管理" class="hash-link" aria-label="依赖管理的直接链接" title="依赖管理的直接链接">​</a></h3>
<p>经常使用 node 的开发者应该对 node 的依赖感到无比厌烦，关于这部分强烈建议看 <a href="https://juejin.cn/post/6914508615969669127" target="_blank" rel="noopener noreferrer">node_modules 困境</a>，你就能知道 node 的 node_modules 设计的是有多少问题。看完你也就能知道为啥越来越多的 node 项目都使用 <a href="https://pnpm.io" target="_blank" rel="noopener noreferrer">pnpm</a> 作为包管理。</p>
<p>虽然 node 有了 pnpm 包管理器这种情况会好一些，但本质在项目目录还是需要 node_modules 文件  。也许你用过其他语言的包管理器，你会发现基本都是将所有用到的依赖全局缓存起来，当不同的项目工程需要用到依赖时，直接去全局缓存中找，而不是像 npm 一样，下载到项目工程目录下，存放在 node_modules 里。</p>
<p>而 deno 也是采用这种这种方式，<code>no npm install</code>，<code>no package.json</code>，<code>no node_modules/</code> ，<a href="https://deno.land/manual@v1.29.3/node/npm_specifiers#using-npm-packages-with-npm-specifiers" target="_blank" rel="noopener noreferrer" title="使用npm包">使用 npm 包</a>可以像下面这样，当你使用 deno run 时便会下载好依赖置全局缓存中。</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">app.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// @deno-types=&quot;npm:@types/express@^4.17&quot;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> express </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;npm:express@^4.17&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">express</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Hello World&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">listen</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin" style="color:rgb(0, 112, 193)">console</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;listening on http://localhost:3000/&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>deno 刚发布的时候，甚至还不支持 NPM 软件包，这无非是要告诉用户 deno 社区没有轮子，要求用户自己去造一个。不过 deno 团队还是做出了比较正确的选择，支持 npm 软件包，并且还非常友好。</p>
<p>不过如果你在 deno 中使用了 npm 包，可能会存在一些兼容性问题，万一遇到了，也可以通过添加 <code>--node-modules-dir</code> 标识，在当前运行目录下创建 <code>node_modules</code> 文件夹。详见 <a href="https://deno.land/manual@v1.29.4/node/npm_specifiers#--node-modules-dir-flag" target="_blank" rel="noopener noreferrer" title="--node-modules-dir flag">--node-modules-dir flag</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="安全">安全<a href="#安全" class="hash-link" aria-label="安全的直接链接" title="安全的直接链接">​</a></h3>
<p><a href="https://deno.land/manual@v1.29.4/basics/permissions" target="_blank" rel="noopener noreferrer" title="Permissions">Permissions</a></p>
<p>在 2022 年 npm 出现过一些恶性的库，如 lodash-utils, faker.js, chalk-next。万一你不小心安装了上面，轻则项目无法运行，输出无意义乱码，重则删除本地文件。</p>
<p>又因为 npm 几乎没有代码审计的机制，任何开发者只需要有一个 npm 的账号就能在上面随意发布他想发布的包。通常来说电脑病毒都是通过随意读取与写入本地文件来达到病毒的目的，但在 deno 中，代码如果尝试写入与读入文件，都需要询问开发者是否允许操作。并且在 linux 系统，你可以指定像 /usr /etc 这样非 root 角色来操作该文件，避免真是病毒文件导致删除不该删除的文件。</p>
<p>此外像命令执行，网络访问，环境变量这些极易危害电脑的权限，deno 都会检测到，  并做出提示告诫开发者是否允许执行。总之你能想到的电脑安全隐患，deno 都为你做好了。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="内置浏览器环境运行时">内置浏览器环境（运行时）<a href="#内置浏览器环境运行时" class="hash-link" aria-label="内置浏览器环境（运行时）的直接链接" title="内置浏览器环境（运行时）的直接链接">​</a></h3>
<p>这是我认为 deno 最大的亮点。</p>
<p>总所周知，浏览器的 js 代码有很大概率是无法直接在 node 中跑起来的，原因就是 node 的全局对象中没有浏览器的对象，如 window，document，甚至连<code>localStorage</code> 都有！</p>
<p>这说明什么，往常如果你从别的网站扣了一段代码下来，想在 node 运行会发现什么 window is not defined，xxx is not defined。如果想在 node 运行，你必须需要补齐浏览器的环境，此外可以借助 js-dom，happy-dom 等 npm 包。而 window，xxx 这些全局只有浏览器才定义的全局对象在 deno 的运行时同样定义了，可以到<a href="https://deno.land/manual@v1.29.3/runtime/web_platform_apis#using-web-platform-apis" target="_blank" rel="noopener noreferrer" title="这里">这里</a>查看支持的 Web 平台 API。</p>
<p>虽说与真实浏览器全局对象有些许差异，但这也足够让开发者少做很多工作。比如 Web 逆向者通常要扣取浏览器的 js 代码，并补齐环境使其能够在 node 中运行，而有了 deno 这将变得非常轻松！</p>
<p><strong>与其说是 javascript/typescript 运行时，我更愿意说是浏览器运行时！</strong></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="web-框架">Web 框架<a href="#web-框架" class="hash-link" aria-label="Web 框架的直接链接" title="Web 框架的直接链接">​</a></h3>
<p>你可以在 <a href="https://deno.land/manual@v1.29.2/getting_started/web_frameworks" target="_blank" rel="noopener noreferrer" title="Web Frameworks">Web Frameworks</a> 中看到 deno 官方所推荐的 Web 框架，其中 <a href="https://deno.land/manual@v1.29.2/getting_started/web_frameworks#fresh" target="_blank" rel="noopener noreferrer" title="Fresh">Fresh</a> 也是最为推荐使用的（后续我也会尝试使用该框架）。</p>
<p>而在 node 社区中，你会看到像 express，koa，nestjs 等等这种非 Node 官方或大背景的 web 框架（而且还很多），而这时对于初学者而言，就有点不知道该如何做出抉择。</p>
<p>而像 java 中你完全可以不用担心该学什么，说学 spring 就是在学 java 这可一点都不为过。可能这也是国内 java，尤其是 spring 的开发者尤为诸多的原因。</p>
<p>吐槽归吐槽，但我想表明的是在有官方的支持下，用户和开发者能够统一使用某个框架，一起维护与使用一个更好的框架。而不是个个 Web 框架的都有各自的优缺点，让使用者去选择，搞得这个框架是另一个框架的轮子一般。</p>
<p>所以我认为这种支持是很有必要。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="公共托管服务">公共托管服务<a href="#公共托管服务" class="hash-link" aria-label="公共托管服务的直接链接" title="公共托管服务的直接链接">​</a></h3>
<p><a href="https://dash.deno.com/" target="_blank" rel="noopener noreferrer" title="Project - Deploy (deno.com)">Project - Deploy (deno.com)</a></p>
<p>deno 像 vercel/netfily 一样提供了一个代码托管服务，可以将你的 deno 应用部署上去。对，目前来看还无法部署前端应用，因为要指明一个入门文件（main.ts）。</p>
<p>你可以通过 <a href="https://kuizuo.deno.dev/" target="_blank" rel="noopener noreferrer" title="https://kuizuo.deno.dev/">https://kuizuo.deno.dev/</a> 来访问我使用 deno Deploy 所创建的一个在线项目。将会输出一个<code>Hello World!</code> 的页面。</p>
<p>提供一个免费的线上环境体验，对开发者而言尤为重 要，尤其是在将自己的项目成果分享给他人展示时，成就感油然而生。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="node-转-deno-开发的一些帮助">node 转 deno 开发的一些帮助<a href="#node-转-deno-开发的一些帮助" class="hash-link" aria-label="node 转 deno 开发的一些帮助的直接链接" title="node 转 deno 开发的一些帮助的直接链接">​</a></h2>
<p>deno 相关的亮点我也差不多介绍完了，也许你对 deno 已经有一丝兴趣想尝试一番，以下我整理的对你也许有所帮助。</p>
<ul>
<li>
<p>如果你是一个 Node 用户，考虑切换到 Deno，这里有一个<a href="https://link.juejin.cn/?target=https://deno.land/manual/node/cheatsheet" target="_blank" rel="noopener noreferrer" title="官方小抄">官方小抄</a>来帮助你。</p>
</li>
<li>
<p>如果你不想刷 deno 文档，想快速上手 deno 的话，这里我建议推荐看看 deno 官方所推荐的<a href="https://deno.land/manual@v1.29.4/examples" target="_blank" rel="noopener noreferrer" title="deno代码例子 ">deno 代码例子 </a>，能够非常快速有效了直接了解 deno 标准库以及依赖导入导出。</p>
</li>
<li>
<p>deno 是集成了 node 与 npm 的，也就是说允许直接使用 npm 包与 node 标准库，如果你想用 deno 来写 node，也行，详看<a href="https://deno.land/manual@v1.29.4/node#interoperating-with-nodejs-and-npm" target="_blank" rel="noopener noreferrer" title="Interoperating with Node.js and npm">Interoperating with Node.js and npm</a>。</p>
</li>
<li>
<p>想要在 deno 中连接数据库，可看<a href="https://deno.land/manual@v1.29.4/basics/connecting_to_databases#connecting-to-databases" target="_blank" rel="noopener noreferrer" title="Connecting to Databases">Connecting to Databases</a>。</p>
</li>
<li>
<p>如果想看 deno 如何使用 deno 生态的 Web 框架创建一个 Web 服务，推荐<a href="https://fresh.deno.dev/" target="_blank" rel="noopener noreferrer" title="fresh">fresh</a>框架，并查看该例子<a href="https://github.com/denoland/fresh/tree/main/examples/counter" target="_blank" rel="noopener noreferrer" title="fresh/examples/counter">fresh/examples/counter</a></p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="node-火吗">node 火吗?<a href="#node-火吗" class="hash-link" aria-label="node 火吗?的直接链接" title="node 火吗?的直接链接">​</a></h2>
<p>关于 deno 就暂且落下笔墨，不妨思考一个问题，node 火吗。</p>
<p>作为 node 开发者，我肯定会说 node 火，不过更多是对 javascript 来说火。</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>2022 State of JS</div><div class="admonitionContent_BuS1"><p>2022 也结束了，不妨查看 <a href="https://2022.stateofjs.com" target="_blank" rel="noopener noreferrer" title="2022 State of JS">2022 State of JS</a> 数据报告统计，看看 JavaScript 在 2022 年是如何发展的吧。</p></div></div>
<p>如今 typescript 大势所趋，说 javascript 就等同于说 typescript，而 javascript 和 node 绑定已成事实，而前端也与 javascript 所绑定，如今的前端工程师要是不会 node，都不好意思说自己是个前端工程师。就现阶段看，没了 nodejs，前端技术得倒退十年（不夸张）。</p>
<p>如果是在 Web 前端，Node 确实已经火的一塌糊涂了，然而它的诞生并不是为了 Web 前端，而是希望将 javascript 作为服务器端语言发展。只是后来没有想到的是 Node.js 在前端领域却大放异彩，造就了如今大前端的盛世。</p>
<p>所以在 Web 后端的领域，Node 确实是不温不火，更多 的公司都宁可选主流的后端开发语言，而不是优先考虑 Node。不过倒是在 Serverless 领域中，Node 有着一席之地。</p>
<p>所以我想 deno 的出现，不仅是针对 Node.js 的缺陷，更是针对 Node.js 后端开发的不足。至于说 deno 能否完成原先 node 的使命，只有时间能给我们答案。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2>
<p>从上述看来，你应该会发现 deno 并不和 node 一样是一个纯运行时环境。因为他不仅仅做了 javascript/typescript 运行时环境，还做了很多开发者好评的功能，一个为 javascript/typescript 提供更好的开发支持的产品。</p>
<p>但好评并不能直接决定销量，这些功能看似可有可无，没有激起用户从 Node.js 切换过来的杰出之处。就我体验完发现，好像 deno 能做的东西 node 大部分也能做，只是相对繁琐重复一些而已。<strong>但人们更倾向于做一件繁琐重复的事情，而不是做一个新的事情。</strong></p>
<p>扪心自问，我真的很希望 deno 能火，就开发体验而言，比 node 好用太多了，但好用的东西代表不了用的人就多，这个领域中，生态尤为重要。想要让 node 用户转到 deno 开发还有很长一段路要走。</p>
<p>再来反问自己，我现在会将 deno 作为 node 替代品吗，我想我和多数 node 开发者一样，都不会将 deno 作为主力语言(因为有很多项目都已经使用node来进行开发与推动)。但作为个人开发者，尤其是 node 开发者，我认为还是非常有必要去尝试一番 deno，亲手目睹&quot;下一代Node&quot;。</p>
<p>希望本文能对你了解 deno 有所帮助。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="相关推荐文章">相关推荐文章<a href="#相关推荐文章" class="hash-link" aria-label="相关推荐文章的直 接链接" title="相关推荐文章的直接链接">​</a></h2>
<p><a href="https://juejin.cn/post/7168383367602241550" target="_blank" rel="noopener noreferrer" title="Deno vs. Node.js哪个更好 - 掘金 (juejin.cn)">Deno vs. Node.js 哪个更好 - 掘金 (juejin.cn)</a></p>
<p><a href="https://juejin.cn/post/6956461134299955213" target="_blank" rel="noopener noreferrer" title="为什么 Deno 没有众望所归？超越 Node.js 还要做些什么？ - 掘金 (juejin.cn)">为什么 Deno 没有众望所归？超越 Node.js 还要做些什么？ - 掘金 (juejin.cn)</a></p>
<p><a href="https://www.zhihu.com/question/327534747" target="_blank" rel="noopener noreferrer" title="连发明人都抛弃node.js了，还有前途吗？ - 知乎 (zhihu.com)">连发明人都抛弃 node.js 了，还有前途吗？ - 知乎 (zhihu.com)</a></p>
<p><a href="https://www.zhihu.com/question/517617266" target="_blank" rel="noopener noreferrer" title="已经 2022 年了 Deno 现在怎么样了? - 知乎 (zhihu.com)">已经 2022 年了 Deno 现在怎么样了? - 知乎 (zhihu.com)</a></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_CYj5"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_d0Lz tagRegular_bmnp" href="/blog/tags/deno">deno</a></li><li class="tag_QGVx"><a class="tag_d0Lz tagRegular_bmnp" href="/blog/tags/node">node</a></li><li class="tag_QGVx"><a class="tag_d0Lz tagRegular_bmnp" href="/blog/tags/javascript">javascript</a></li><li class="tag_QGVx"><a class="tag_d0Lz tagRegular_bmnp" href="/blog/tags/typescript">typescript</a></li></ul></div></footer></article><div class="margin-bottom--md"><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/use-fresh-build-web-applicatioin"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">🍋 使用 Fresh 框架构建Web 应用</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/rust-wasm-md5"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">Rust实现MD5加密并打包成WebAssembly调用</div></a></nav></div><div>Loading Comments...</div><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button></main><div class="col col--2"><div class="tableOfContents_jeP5 thin-scrollbar" style="opacity:0;transform:translateX(100px) translateZ(0)"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#开发环境" class="table-of-contents__link toc-highlight">开发环境</a></li><li><a href="#deno-的一些亮点" class="table-of-contents__link toc-highlight">deno 的一些亮点💡</a><ul><li><a href="#官方所介绍的亮点" class="table-of-contents__link toc-highlight">官方所介绍的亮点</a></li><li><a href="#自带实用工具" class="table-of-contents__link toc-highlight">自带实用工具</a></li><li><a href="#远程导入" class="table-of-contents__link toc-highlight">远程导入</a></li><li><a href="#http-的方式运行代码" class="table-of-contents__link toc-highlight">http 的方式运行代码</a></li><li><a href="#依赖管理" class="table-of-contents__link toc-highlight">依赖管理</a></li><li><a href="#安全" class="table-of-contents__link toc-highlight">安全</a></li><li><a href="#内置浏览器环境运行时" class="table-of-contents__link toc-highlight">内置浏览器环境（运行时）</a></li><li><a href="#web-框架" class="table-of-contents__link toc-highlight">Web 框架</a></li><li><a href="#公共托管服务" class="table-of-contents__link toc-highlight">公共托管服务</a></li></ul></li><li><a href="#node-转-deno-开发的一些帮助" class="table-of-contents__link toc-highlight">node 转 deno 开发的一些帮助</a></li><li><a href="#node-火吗" class="table-of-contents__link toc-highlight">node 火吗?</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#相关推荐文章" class="table-of-contents__link toc-highlight">相关推荐文章</a></li></ul><hr class="hr_UhE0"><span class="percent_H6RK">0%<!-- --> </span></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">学习</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive">归档</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/skill">技术笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">实战项目</a></li><li class="footer__item"><a href="https://example.kuizuo.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">前端示例</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/kuizuo" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/kuizuo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/1565318510545901" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/M8cVcjDxkz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">友链</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/resource">导航</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 愧怍 Built with Docusaurus.<p><a href="http://beian.miit.gov.cn/" class="footer_lin">赣ICP备2023007565号-1</a></p></div></div></div></footer></div>
</body>
</html>